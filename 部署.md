全局配置

```
storageClass: "openebs-lvmpv"
```

拉取依赖包

```
cd mysql/mysql/
helm dependency build
```

生成manifest编排文件

```
helm template --namespace test --values ../values.yaml --output-dir ../../manifest/ ./
```



# mysql



```
helm install mysql mysql/mysql/ --namespace test --create-namespace -f mysql/values.yaml
helm uninstall mysql --namespace test
```



调试

```
kubectl -n test get pod

kubectl -n test describe pod mysql-0
kubectl -n test logs -f --tail 300 mysql-0
```



# redis

```
helm install redis redis/redis/ --namespace test --create-namespace -f redis/values.yaml
helm uninstall redis --namespace test
```

调试

```
kubectl -n test get pod|grep redis
kubectl -n test logs -f --tail 300 redis-node-0
kubectl -n test exec -it redis-node-0 -- bash
```



# rabbitmq

```
helm install rabbitmq rabbitmq/rabbitmq/ --namespace test --create-namespace -f rabbitmq/values.yaml
helm uninstall rabbitmq --namespace test
```

调试

```
kubectl -n test get pod|grep rabbitmq
kubectl -n test describe pod rabbitmq-0
kubectl -n test logs -f --tail 300 rabbitmq-0
```



`kubectl -n test exec -it rabbitmq-0 -- bash`

```
rabbitmq-plugins list|grep rabbitmq_delayed_message_exchange
```

